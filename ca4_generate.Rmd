---
title: "daie_ca4"
author: "Conor Crean"
date: '`r Sys.Date()`'
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Clear console on each execute and set chunk default to not show code

```{r echo = FALSE}

cat("\014")


library(pacman)
pacman::p_load(dbplyr,RSQLite,rmarkdown)

dbfile <- "daie_ca4_db.sqlite"
if (file.exists(dbfile))
  {file.remove(dbfile)
}

daie_ca4_db <- dbConnect(RSQLite::SQLite(), dbfile)


```

# Test the DB

```{r}

return <- dbExecute(daie_ca4_db,"CREATE TABLE Groups (
   id_number integer NOT NULL CONSTRAINT Group_pk PRIMARY KEY, Name varchar(50) NOT NULL")



```
#Add to database
```{r echo = FALSE}

return <- dbExecute(daie_ca4_db,"INSERT INTO Asset
                    (id_number,Name )
                    VALUE
                    (1, 'Weapon')")
return <- dbExecute(daie_ca4_db,"INSERT INTO Asset
                    (id_number,Name )
                    VALUE
                    (2, 'Armour')")
return <- dbExecute(daie_ca4_db,"INSERT INTO Asset
                    (id_number,Name )
                    VALUE
                    (3, 'Picture')")
return <- dbExecute(daie_ca4_db,"INSERT INTO Asset_for_Library
                    (Asset_id_number,Library_id_number, )
                    VALUE
                    (3, 'Picture')")

```



# Do NOT forget to disconnect - otherwise we may hit a remote connection limit

```{r echo=FALSE}



dbDisconnect(daie_ca4_db)


```
